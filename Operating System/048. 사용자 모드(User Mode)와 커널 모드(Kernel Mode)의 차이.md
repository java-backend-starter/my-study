# 사용자 모드(User Mode)와 커널 모드(Kernel Mode)의 차이

---

## 1.  Kernel Mode (커널 모드)

- 운영 체제의 핵심 기능이 실행되는 모드이다.
- 시스템의 모든 자원에 대한 전체적인 제어 권한을 가진다.

### 특징

- 전체 권한: 메모리, CPU, 주변 장치 등 모든 하드웨어 자원에 직접 접근하고 제어할 수 있다. 
- 핵심 기능 수행: 프로세스 관리, 메모리 관리, 파일 시스템 관리, 네트워킹 등 시스템의 핵심 기능을 담당한다. 
- 보호 메커니즘: 중요한 시스템 기능을 보호하여 안정성과 보안을 유지한다.

### 중요성

- 시스템 관리: 운영 체제의 심장부로서 주요 시스템 활동을 관리하고 조정한다. 
- 성능 최적화: 시스템의 성능과 효율성을 최적화하기 위한 다양한 전략을 사용한다. 
- 보안 및 안정성: 시스템의 보안을 유지하고 오류로부터 보호한다.

---

## 2. User Mode (사용자 모드)

- 일반 애플리케이션이 실행되는 모드이다.
- 시스템 자원에 대한 접근이 제한되어 있다.

### 특징

- 제한된 권한: 시스템의 중요한 자원과 하드웨어에 직접 접근할 수 없다. 
- 시스템 호출(System Call): 필요한 시스템 자원이나 서비스를 요청할 때 시스템 호출을 통해 커널에 요청한다. 
- 컨텍스트 스위칭(Context Switching): 사용자 모드와 커널 모드 간 전환 시 운영 체제가 필요한 권한과 환경을 설정한다.

### 중요성

- 보안: 악의적인 프로그램이나 오류로부터 시스템의 핵심 부분을 보호한다. 
- 안정성: 하나의 프로그램 오류가 시스템 전체에 영향을 미치지 않도록 방지한다. 
- 자원 관리: 프로세스 간 자원 사용을 효율적으로 관리하고 분배한다.

---

## 3. 사용자 모드와 커널 모드 간 전환

- 프로세스는 실행 중에 필요에 따라 사용자 모드와 커널 모드 간을 전환한다. 
- 예를 들어, 파일을 열기 위해 fopen() 함수를 호출하면, 내부적으로 시스템 호출인 open()을 통해 커널 모드로 전환되어 해당 작업을 수행한 후 다시 사용자 모드로 돌아온다. 
- 이러한 전환은 시스템의 안정성과 보안을 유지하면서 필요한 자원에 접근할 수 있도록 한다.


---

## 4. 비교

| 구분             | Kernel Mode (커널 모드)                                                   | User Mode (사용자 모드)                                                |
|------------------|-----------------------------------------------------------------------------|-------------------------------------------------------------------------|
| 정의             | 운영 체제의 핵심 기능이 실행되는 모드                                     | 일반 애플리케이션이 실행되는 모드                                      |
| 권한 수준        | 시스템의 모든 자원에 대한 전체적인 제어 권한 보유                         | 제한된 권한, 시스템 자원 직접 접근 불가                                |
| 접근 가능 자원   | 메모리, CPU, 주변 장치 등 모든 하드웨어 자원에 직접 접근 가능             | 시스템 호출을 통해서만 커널 기능에 접근 가능                           |
| 주요 기능        | 프로세스, 메모리, 파일 시스템, 네트워크 등 시스템 핵심 기능 수행           | 일반 프로그램 실행, 시스템 자원이 필요하면 커널에 요청                 |
| 보안 및 안정성   | 중요한 기능 보호 메커니즘 내장, 시스템 전체 영향 가능성 존재               | 하나의 프로그램 오류가 시스템 전체에 영향을 주지 않음                  |
| 전환 방식        | 사용자 모드에서 시스템 콜 시 커널 모드로 전환됨                            | 커널 작업이 끝나면 다시 사용자 모드로 복귀                              |
| 예시             | 파일 시스템 접근, 메모리 할당, 프로세스 관리, 드라이버 제어 등              | 텍스트 편집기, 웹 브라우저, 게임 등 일반 사용자 프로그램               |

---

### 참고자료

[사용자 모드(User Mode)와 커널 모드(Kernel Mode)의 차이](https://velog.io/@hyungzin0309/User-mode-Kernel-mode)