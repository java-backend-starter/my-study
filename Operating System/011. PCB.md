# PCB

---

## 1. PCB란?

- 프로세스에 대한 메타데이터를 저장한 자료 구조
- 운영체제에서 각 프로세스를 관리하기 위해 사용하는 자료 구조
- 프로세스에 대한 중요한 정보를 저장
- 프로세스 생성 시 함께 생성되고, 종료 시 폐기됨
- 사용자 접근 방지를 위해 커널 스택 상단에 저장
- 커널 스택은 각 프로세스마다 존재하며, 커널 모드에서만 접근 가능

--- 

## 2. PCB의 구성 요소

| 항목 | 설명 |
|------|------|
| 프로세스 ID | 고유 식별자 및 자식 프로세스 ID 포함 |
| 프로세스 상태 | 준비, 실행, 대기 등의 현재 상태 |
| 우선순위 | 스케줄링 시 우선순위 판단 기준 |
| 권한 정보 | 자원 접근 권한 (I/O 디바이스 등) |
| 프로그램 카운터 | 다음에 실행할 명령어의 주소 |
| CPU 레지스터 | 프로세스가 사용 중인 레지스터 값 |
| 스케줄링 정보 | 스케줄러 관련 정보 (중단 시점 등) |
| 계정 정보 | 사용자 정보, 사용된 CPU 시간 등 |
| I/O 상태 정보 | 해당 프로세스가 사용하는 I/O 자원 목록 |

---

## 3. 컨텍스트 스위칭 (Context Switching)

- 현재 실행 중인 프로세스를 중단하고, 다른 프로세스를 실행하기 위한 과정
- PCB의 정보를 저장하고 새로운 프로세스의 PCB를 로드함
- 시간 할당 종료, 인터럽트 발생 시 등에서 발생
- 컨텍스트 스위칭이 빠르게 일어나기 때문에 마치 여러 프로그램이 동시에 실행되는 것처럼 보임 (단일 코어 환경에서도)

### 컨텍스트 스위칭의 비용

- 유휴 시간 발생: 스위칭 동안 CPU가 작업을 하지 못함
- 캐시 미스: 메모리 접근 속도 저하 → 성능 저하

---

## 4. 스레드에서의 컨텍스트 스위칭

- 스레드는 스택 영역만 분리하고, 나머지 메모리는 공유함
- 프로세스 간 컨텍스트 스위칭보다 가볍고 빠름
- 메모리 초기화 부담이 적음
---

### 참고자료

[PCB](https://hapen385.tistory.com/53)