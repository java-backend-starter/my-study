# FAT, NTFS, EXT

---

## 1. 파일 시스템(File System) 개요

- 파일 시스템은 운영체제가 데이터를 저장하고 관리하는 방식으로, 사용자가 생성한 파일을 저장소에 어떻게 저장하고 관리할지를 결정하는 중요한 기능이다.
- 윈도우 탐색기에서 볼 수 있는 계층형(Tree 형태) 구조는 이러한 파일 시스템의 구조를 반영한 것이다.

---

## 2. FAT (File Allocation Table)

- File Allocation Table, 파일 할당 테이블의 약자 
- 메모리카드나 USB 드라이브에 주로 사용되는 파일 시스템이다. 
- 하나의 파일이 최대 4GB 용량 미만까지만 가질 수 있다는 단점이 있다.

### FAT16
   
- 대부분의 Microsoft 운영체제에서 호환되며 단순한 구조이다. 
- 최대 2GB까지 지원한다. 
- 암호화 및 압축이 불가능하다. 
- 파일명 최대 길이는 영문 8자이다. 
- 클러스터당 1,632KB를 할당하여 내부 단편화가 발생한다.

### FAT32

- FAT16을 보강한 것으로, 최대 2TB까지 지원한다. 
- 암호화 및 압축이 불가능하다. 
- 파일명의 최대 길이는 영문 256자이다. 
- 클러스터당 4KB를 사용하여 내부 단편화를 줄였다.

### exFAT

- Microsoft에서 개발한 FAT 파일 시스템의 확장 버전 
- 주로 USB, SD 카드, 외장 하드 등 외부 저장 장치에서 많이 사용된다.
- FAT32의 한계를 극복하고자 개발되었다.

#### 특징

- 광범위한 호환성
  - Windows, macOS, Linux, 모바일 기기 등 다양한 플랫폼에서 호환됨 
  - 플랫폼 간 데이터 공유에 유리
- 간단한 구조 
  - NTFS보다 단순하여 소형 저장 장치나 저사양 시스템에서 효율적이다
- 대용량 파일 및 볼륨 지원 
  - 4GB 초과 파일 저장할 수 있다
  - FAT32보다 성능이 개선되었다.
- 보안 기능 미비 
  - NTFS처럼 파일 권한 설정이나 암호화, 접근 제어 기능이 없다.
- 데이터 복구 기능 부재 
  - 트랜잭션 로그 등 복구 메커니즘이 없어 충돌 시 복구가 어럽다.
- 압축 미지원 
  - 파일 시스템 자체에서 제공하는 압축 기능이 없다.

---

## 3. NTFS (New Technology File System)

- Net Technology File System의 약자로써 FAT를 대체하기 위해 대부분의 윈도우 운영체제에 포함되어 있는 파일 시스템
- 암호화 및 압축을 지원하며, 대용량 파일 시스템을 지원한다. 
- 가변 클러스터 크기(512 ~ 64KB)이며, 기본 값은 4KB이다. 
- 트랜잭션 로깅을 통한 복구/오류 수정이 가능하다. 
- Windows NT 이상에서 지원한다.

---

## 4.  EXT (Extended File System)

### EXT

- MINIX File System을 보완하여, 최대 2GB까지 파일 시스템 크기를 지원한다. 
- 255byte까지 파일명을 지원하다. 
- 접근 제어, inode 수정, 타임스탬프 수정 등의 기능이 불가능하다. 
- 사용할수록 단편화가 심해진다.

### EXT2

- 파일 시스템은 최대 2GB까지 파일 시스템 크기를 지원되며, 서브 디렉터리 개수 제한이 대폭 증가하였다. 
- FSCK를 사용한 파일 시스템 오류 수정을 지원한다. 
- 캐시의 데이터를 디스크에 저장 중 오류 발생 시 파일 시스템에 손상이 올 수 있다. 
- FSCK 이용한 파일 복구 시간에 많은 시간이 소요된다.

### EXT3

- EXT2에 저널링 기능 추가 및 온라인 파일 시스템이 증대되었다. 
- 파일 시스템 변경 시 저널에 먼저 수정 내용을 기록하여 갑작스러운 다운 시 빠르게 오류 복구가 가능하다. 
- 온라인 조각 모음이 불필요하며, 디스크 조각화를 최소화한다.

### EXT4

- 16TB까지 파일 시스템을 지원하며, 볼륨은 1엑사바이트(Exabyte)까지 지원한다. 
- Block Mapping 방식 및 Extends 방식을 지원한다. 
- 저널 Checksum 기능이 추가되어 안정성이 강화되었다. 
- 하위 호환성 지원: ext3, ext2와 호환 가능하다. 
- Delayed allocation: 디스크에 쓰이기 전까지 블록 할당을 미루는 기술로 조각화 방지에 효과적이다. 
- 온라인 조각 모음: 조각화 방지를 위한 커널 레벨의 기술이다. 
- Persistent pre-allocation: 파일 전체만큼의 공간은 사전 할당하여 스트리밍, 데이터베이스 등에 유용하다.

--- 

## 5. UFS (Unix File System)

- VTOC 디스크 레이블: 각 파티션의 기본 정보를 포함한다. 
- 부트블록: 부트스트랩에 필요한 파일들을 포함한다. 
- 프라이머리 슈퍼블록: 데이터 블록의 개수, 실린더 그룹의 개수, 마운트 정보 등을 포함한다. 
- 백업 슈퍼블록: 각 실린더마다 슈퍼블록에 대한 복사본을 가진다. 
- 실린더 그룹: 슈퍼블록, 실린더 그룹 블록, i-node 테이블, 데이터 블록을 포함한다. 
- 슈퍼블록: 파일 시스템 크기, i-node 테이블의 크기, free 블록 리스트 등 파일 시스템 관리 정보를 포함한다. 
- 실린더 그룹 블록: 실린더 그룹 내의 유효 블록들의 비트맵 정보나 통계 정보를 포함한다. 
- i-node 테이블: 파일에 대한 중요한 정보(파일 크기, 위치, 유형, 사용 허가권, 날짜 정보 등)를 포함한다. 
- 데이터 블록: 실제 데이터가 저장되는 공간이다.


---

### 참고자료

[FAT, NTFS, EXT](https://ohaengsa.tistory.com/entry/%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C-%ED%8C%8C%EC%9D%BC-%EC%8B%9C%EC%8A%A4%ED%85%9CFile-System)

[FAT, NTFS의 의미](https://m.post.naver.com/viewer/postView.naver?volumeNo=31812440&memberNo=7496980)