# 중첩 클래스

---

## 1. 개념

- 클래스 내부에 선언된 클래스
- 서로의 멤버에 쉽게 접근할 수 있고, 불필요한 클래스를 감춰 코드의 복잡성을 줄이는 장점이 존재
- 클래스가 여러 클래스와 관계를 맺는 경우는 독립적으로 선언하는 것이 좋고, 특정 클래스와만 관계가 있을 경우에는 내부에 선언하는 것이 적절

### 구조

```java
class Outer {
    class Inner {
        // 중첩 클래스
    }
}
```

---

## 2. 종류

- 선언 위치에 따라 멤버 클래스와 로컬 클래스로 나뉜다.

### 멤버 클래스

#### 인스턴스 멤버 클래스

- static 없이 선언된다.
- 외부 클래스의 객체가 있어야 생성할 수 있다.
- 인스턴스 필드와 메소드만 선언 가능하다.
- 예: `A.B b = a.new B();`

#### 정적 멤버 클래스

- static으로 선언된다.
- 외부 클래스 객체 없이 생성 가능하다.
- 인스턴스/정적 필드와 메소드 모두 선언할 수 있다.
- 예: `A.C c = new A.C();`

### 로컬 클래스

- 메소드 내부에 선언된다.
- 접근 제한자와 static 키워드를 사용할 수 없다.
- 메소드 실행 중에만 존재하며, 실행 종료 시 사라진다.
- 인스턴스 필드와 메소드만 선언할 수 있다.
- 주로 일회성 작업(예: 스레드 생성 등)에 사용된다.

### 컴파일 시 바이트코드 파일 이름

- 멤버 클래스: `A$B.class`
- 로컬 클래스: `A$1B.class`

### 장점
- 관련 있는 클래스들을 묶어 코드의 가독성과 응집도를 높일 수 있다.
- 외부에 불필요한 클래스를 감춰 코드 복잡성을 줄일 수 있다.
- 내부 클래스에서 외부 클래스 멤버에 쉽게 접근할 수 있다.

---

## 3. 중첩 클래스의 접근 제한 요약

### 바깥 필드와 메소드에서 사용 제한

- 인스턴스 멤버 클래스(B)
    - 인스턴스 필드와 메소드에서는 생성 가능
    - 정적 필드나 정적 메소드에서는 생성 불가능
- 정적 멤버 클래스(C)
    - 인스턴스/정적 필드, 메소드 어디에서든 생성 가능

### 멤버 클래스에서 사용 제한

- 인스턴스 멤버 클래스(B)
    - 바깥 클래스의 모든 필드와 메소드 접근 가능
- 정적 멤버 클래스(C)
    - 바깥 클래스의 정적 필드와 정적 메소드만 접근 가능
    - 인스턴스 필드 및 메소드는 접근 불가능

### 로컬 클래스에서 사용 제한

- 바깥 클래스의 멤버는 자유롭게 사용 가능
- 매개변수 및 로컬 변수는 final 특성을 가져야 사용 가능
    - 자바 7 이전: final 명시 필요
    - 자바 8 이후: final 생략 가능하지만 수정 불가

### 바깥 클래스 참조 얻기

- 중첩 클래스에서 this는 중첩 클래스 자기 자신을 가리킴
- 바깥 클래스의 참조는 바깥클래스명.this로 접근
- 예: `Outter.this.field`, `Outter.this.method()`

---

### 참고자료

[이것이 자바다](https://search.shopping.naver.com/book/catalog/32473359191?query=%EC%9D%B4%EA%B2%83%EC%9D%B4%20%EC%9E%90%EB%B0%94%EB%8B%A4&NaPm=ct%3Dm7ne3c9k%7Cci%3D6356ea398110d474e244102192a893d910277fb2%7Ctr%3Dboksl%7Csn%3D95694%7Chk%3Da51fed5127109d9f5a3bd6af6be4725cd7500518)