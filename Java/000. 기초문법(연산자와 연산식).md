### 기초문법(연산자와 연산식)

---

## 1. 연산자와 연산식

- 연산(operator): 데이터를 처리하는 기호
- 피연산자(operand): 연산 대상 데이터
- 연산식(expression): 연산자와 피연산자를 이용한 계산식, 하나의 값 산출
```java
x + y
x - y
x + y + z
x == y
```
- 자바 연산자의 산출 타입
    - 산술 연산자 → 숫자 타입
    - 비교/논리 연산자 → boolean

| 연산자 종류 | 연산자                                                   | 피연산자 수            | 산출값 | 기능 |
| --- |-------------------------------------------------------|-------------------| --- | --- |
| 산술 | +, -, *, /, %                                         | 이항                | 숫자 | 사칙연산, 나머지 계산 |
| 부호 | +, -                                                  | 단항                | 숫자 | 음수와 양수의 부호 |
| 문자열 | +                                                     | 이항                | 문자열 | 두 문자열을 연결 |
| 대입 | =, +=, -=, *=, /=, %=, &=, ^=,   \| =, <<=, >>=, >>>= | 이항 | 다양 | 우변의 값을 좌변의 변수에 대입 |
| 증감 | ++, --                                                | 단항                | 숫자 | 1만큼 증가/감소 |
| 비교 | ==, !=, >, <, >=, <=, instanceof                      | 이항                | boolean | 값의 비교 |
| 논리 | !, &ㅡ \| , &&, \|\|                                   | 단항, 이항            | boolean | 논리적 NOT, AND, OR 연산 |
| 조건 | (조건식) ? A : B                                         | 삼항                | 다양 | 조건식에 따라 A 또는 B 선택 |
| 비트 | ~, &,                                                 | , ^               | 단항, 이항 | 숫자, boolean | 비트 NOT, AND, OR, XOR 연산 |
| 쉬프트 | \>>, <<, >>>                                          | 이항                | 숫자 | 비트를 좌/우측으로 이동 |

- 연산자 분류
    - 단항: 1개 피연산자 (++, --, +, -, !, ~)
    - 이항: 2개 피연산자 (+, -, *, /, %, =, ==, &&, ||, ...)
    - 삼항: 3개 피연산자 (조건 ? A : B)

---

## 2. 연산의 방향과 우선순위

- 대부분 연산: 왼쪽 → 오른쪽
- 단항/부호/대입 연산: 오른쪽 ← 왼쪽

| 연산자                                   | 연산 방향 | 우선순위 |
|---------------------------------------| --- | --- |
| 증감, 부호, 비트, 논리                        | ← | 1 |
| 산술(*, /, %)                           | → | 2 |
| 산술(+, -)                              | → | 3 |
| 쉬프트                                   | → | 4 |
| 비교(<, >, <=, >=, instanceof)          | → | 5 |
| 비교(==, !=)                            | → | 6 |
| 논리(&)                                 | → | 7 |
| 논리(^)                                 | → | 8 |
| 논리(\|) | → | 9 |
| 논리(&&)                                | → | 10 |
| 논리(\|\|)    | → | 11 |
| 조건                                    | → | 12 |
| 대입                                    | ← | 13 |

- 복잡한 연산식 → 괄호() 사용

```java
int result = (var1 + var2) * var3; // 우선순위 명시
```

---

## 3. 단항 연산자

- 피연산자가 한 개인 연산자

### 부호 연산자 (+,-)

- 기본 타입 숫자에 사용 가능, boolean/char 제외
- +x: 부호 유지, -x: 부호 반전
- 작은 타입 연산 → 결과 int
```java
short s = 100;
int result = -s; // short + 부호 연산 → int
```

### 증감 연산자 (++, --)

- 변수 값 1 증가/감소
- 전위(++x, --x): 먼저 변경 후 연산
- 후위(x++, x--): 연산 후 변경
```java
int x = 1;
int y = ++x + 10; // 12
int z = y++ + 10; // 11 (y는 나중에 증가)
```

###  논리 부정 (!)

- boolean 타입에만 사용
- true ↔ false 전환
```java
boolean play = true;
play = !play; // false
```

### 비트 반전 (~)

- 정수 타입에만 사용
- 비트 반전 후 int 타입 산출
```java
byte v = 10;
int result = ~v; // int 타입
```

---

## 4. 이항 연산자

- 피연산자가 두 개인 연산자

### 산술 연산자: +, -, *, /, %

- 피연산자가 boolean이 아닌 기본 타입에서 사용 가능.
- %는 나머지 연산. 예: int r = num % 3; → 0, 1, 2 중 하나.
- 타입 규칙
    - byte, short, char + byte, short, char → 연산 후 int
    - long 포함 → 연산 후 long
    - float/double 포함 → 연산 후 큰 쪽 실수 타입
    - int / int 결과는 소수점 이하 버림. 정확한 실수 결과 필요 시 캐스팅: `double r = (double) int1 / int2;`

#### 주의 사항

- 오버플로우: 표현 범위 초과 시 쓰레기값 발생.
```java
long z = 1000000L * 1000000L; // int 대신 long 사용
```
- 정확한 계산: 실수 타입은 근사치 문제 발생. 정수 연산 사용 권장.
- 0 나누기
    - 정수: ArithmeticException
    - 실수: / → Infinity, % → NaN
        - 후속 연산 금지, Double.isNaN()/Double.isInfinite() 검사 필요.
- NaN 검사 필수: 입력값이 "NaN"이면 산술 연산하면 결과가 NaN으로 오염됨.
```java
if(Double.isNaN(val)) { val = 0.0; }
```

#### 타입 변환 예시

```java
byte b1 = 1, b2 = 2;
// byte b3 = b1 + b2; // 컴파일 에러
int b3 = b1 + b2;     // 정상

int i1 = 10, i2 = 4;
double r = (double)i1 / i2; // 2.5

char c = (char) ('A' + 1); // 'B'
```

#### 오버플로우 방지 메소드 예시

```java
static int safeAdd(int a, int b) {
   if (b > 0 && a > Integer.MAX_VALUE - b) throw new ArithmeticException();
   if (b < 0 && a < Integer.MIN_VALUE - b) throw new ArithmeticException();
   return a + b;
}
```

### 문자열 연결 연산자 (+)

- 피연산자 중 하나가 문자열이면 +는 문자열 연결.
- 숫자와 문자열 혼합 시 왼쪽 → 오른쪽 순서로 연산.
```java
``"JDK" + 3 + 3.0  // "JDK33.0"
3 + 3.0 + "JDK"  // "6.0JDK"
```

### 비교 연산자 (<, <=, >, >=, ==, !=)

- 대소 비교: 기본 타입(int, double 등) 사용 가능, boolean은 제외.
- 동등 비교: 모든 타입 사용 가능.
- 문자(char)는 유니코드 값으로 비교.
- 기본 타입끼리는 자동 타입 변환 후 비교.
- 부동소수점 비교 주의: 근사값 때문에 `0.1 == 0.1f → false.`
- 참조 타입(String) 비교: ==는 참조 비교, 문자열 내용 비교는 equals() 사용.
    - `str1.equals(str2)  // 문자열 내용 비교`

### 논리 연산자 (&&, ||, &, |, ^, !)

- 피연산자 boolean만 가능.
- `&&, ||` : 단락 평가(앞 결과로 뒤 연산 생략 가능).
- `&, |` : 항상 양쪽 평가.
- 조건문(if, while)에서 주로 사용.

### 비트 연산자 (&, |, ^, ~, <<, >>, >>>)

- 정수 타입만 가능 (byte, short, int, long).
- 비트 논리 연산: & AND, | OR, ^ XOR, ~ NOT.
- 비트 이동 연산
    - `<<` : 왼쪽 이동, 0으로 채움
    - `>>` : 오른쪽 이동, 최상위 비트로 채움
    - `>>>` : 오른쪽 이동, 0으로 채움
- 작은 타입(byte, short, char) 연산 시 결과는 자동으로 int.

### 대입 연산자 (=, +=, -=, ...)

- 오른쪽 값을 왼쪽 변수에 저장.
    - 복합 대입 연산: `x += y → x = x + y.`
- 연산 우선순위 낮음, 오른쪽 → 왼쪽으로 수행 가능.
```java
a = b = c = 5;  // c=5 → b=c → a=b
```

---

## 5. 삼항 연산자 (?:)

- 피연산자가 3개인 연산자
- 조건식 결과에 따라 두 값 중 하나 선택.
    - `char grade = (score > 90) ? 'A' : ((score > 80) ? 'B' : 'C');`
- 한 줄로 조건 판단 가능, 간단하고 효율적.

---


### 참고자료

[이것이 자바다](https://search.shopping.naver.com/book/catalog/32473359191?query=%EC%9D%B4%EA%B2%83%EC%9D%B4%20%EC%9E%90%EB%B0%94%EB%8B%A4&NaPm=ct%3Dm7ne3c9k%7Cci%3D6356ea398110d474e244102192a893d910277fb2%7Ctr%3Dboksl%7Csn%3D95694%7Chk%3Da51fed5127109d9f5a3bd6af6be4725cd7500518)