# 패킷과 프레임

---

## 0. 개요

- 패킷과 프레임은 컴퓨터 네트워크에서 데이터를 전송할 때 사용되는 단위
- 패킷과 프레임은 각각 다른 OSI 계층에서 정의

---

## 1. 패킷(Packet)

- OSI 계층: 3계층 (네트워크 계층)
- 역할: 데이터를 네트워크를 통해 전달하기 위한 단위
- 주소 체계: IP 주소 사용
- 구성 요소:
    - 헤더(Header): 출발지 및 목적지 IP 주소, 패킷 크기, 프로토콜 정보 등
    - 데이터(Data): 전송될 실제 데이터 (Payload)

---

## 2. 프레임(Frame)

- OSI 계층: 2계층 (데이터링크 계층)
- 역할: 동일 네트워크 내에서 데이터를 전달하기 위한 단위
- 주소 체계: MAC 주소 사용
- 구성 요소:
    - 헤더(Header): 출발지 및 목적지 MAC 주소, 프레임 유형, 제어 정보 등
    - 데이터(Data): 상위 계층에서 전달된 데이터 (예: 패킷)
    - 트레일러(Trailer): 오류 검출 정보 (FCS, Frame Check Sequence)

---

## 3. 세그먼트(Segment)

- OSI 계층: 4계층 (전송 계층)
- 역할: 신뢰성 있는 데이터 전송을 위한 단위
- 주소 체계: 포트 번호 사용 (송신 측과 수신 측 식별)

### 구성 요소

- 헤더(Header):
    - 소스 포트 (Source Port): 송신 측 포트 번호 (16비트)
    - 목적지 포트 (Destination Port): 수신 측 포트 번호 (16비트)
    - 시퀀스 번호 (Sequence Number): 데이터 순서를 추적하는 번호 (32비트)
    - 응답 번호 (Acknowledgement Number): 수신 측이 다음에 받을 것으로 예상하는 시퀀스 번호 (32비트)
    - 데이터 오프셋 (Data Offset): TCP 헤더의 크기를 나타내며, 데이터의 시작 위치를 지정 (4비트)
    - 플래그 (Flags): 연결 설정/종료 및 제어 플래그 (예: SYN, ACK, FIN 등) (9비트)
    - 윈도우 크기 (Window Size): 수신 측이 한 번에 처리할 수 있는 데이터 양 (16비트)
    - 체크섬 (Checksum): 헤더와 데이터 오류 검출용 필드 (16비트)
    - 긴급 포인터 (Urgent Pointer): 긴급 데이터의 끝 위치를 지정, URG 플래그가 활성화된 경우에만 사용 (16비트)
    - 옵션 및 패딩 (Options & Padding): 선택적 기능 제공 및 32비트 정렬을 위한 패딩
- 데이터(Data):
    - 실제 전송되는 응용 계층 데이터 (Payload)

---

## 4. 패킷과 프레임의 차이점 비교

| 항목           | 세그먼트 (Segment)                                  | 패킷 (Packet)                            | 프레임 (Frame)                                       |
|----------------|------------------------------------------------------|------------------------------------------|------------------------------------------------------|
| 위치           | OSI 4계층 (전송 계층)                                | OSI 3계층 (네트워크 계층)                | OSI 2계층 (데이터링크 계층)                          |
| 역할           | 신뢰성 있는 종단 간 데이터 전송                      | 데이터를 네트워크를 통해 전달             | 동일 네트워크 내 장치 간 데이터 전달                 |
| 주소 체계      | 포트 번호                                            | IP 주소                                  | MAC 주소                                              |
| 구성 요소      | TCP/UDP 헤더 + 데이터 (Payload)                     | IP 헤더 + 세그먼트                        | MAC 헤더 + 패킷 + FCS 트레일러                        |
| 생성 방식      | 응용 계층 데이터에 전송 계층 헤더를 추가해 생성     | 세그먼트에 IP 헤더를 추가해 생성         | 패킷에 프레임 헤더와 트레일러를 추가해 생성           |

---

### 참고자료

[패킷과 프레임](https://joey0203.tistory.com/476)

[세그먼트](https://nogan.tistory.com/20)