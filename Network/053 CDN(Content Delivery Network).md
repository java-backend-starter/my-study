# CDN(Content Delivery Network)

---

## 1. CDN이란?

- CDN(Content Delivery Network 또는 Content Distribution Network)은  전 세계에 분산된 서버 네트워크를 통해 웹 콘텐츠를 빠르게 전송하는 기술이다.
- 사용자가 웹사이트를 방문할 때, 멀리 있는 서버로부터 직접 데이터를 받으면 로딩이 느려질 수 있는데, 사용자와 가까운 서버에서 콘텐츠를 전달하여 로딩 속도를 높인다.

## 2. CDN의 중요성

### 목표

- 통신 지연(Latency) 감소 
- 웹 서버 트래픽 감소 
- 대역폭 사용량 절감 
- 사용자 경험(UX) 향상

### 원리

- 사용자의 요청이 오리진 서버까지 가지 않고, 중간 CDN 서버가 처리한다. 
- 서버 간 물리적 거리를 단축시키기에 빠른 응답이 가능하다.

---

## 3. CDN의 사용 이점

- 페이지 로드 속도를 개선하여 사용자 이탈률을 낮추고 사이트 체류 시간을 증가시킨다. 
- 캐싱을 통해 오리진 서버 요청을 줄여 네트워크 트래픽 비용을 절감한다. 
- 서버 장애 발생 시 다른 서버가 자동으로 대응하여 웹사이트의 연속성과 가용성을 높인다. 
- DDoS 공격 시 트래픽을 분산시켜 원본 서버 보호와 웹사이트 안정성을 강화한다.

---

## 4. CDN 기술의 역사

### 1세대 CDN

- 1990년대 후반에 등장했다. 지능형 네트워크 트래픽 관리와 데이터 센터 복제에 초점을 맞췄다.

### 2세대 CDN

- 오디오, 비디오 스트리밍 서비스(특히 온디맨드 서비스)의 확산으로 2세대 CDN이 등장했다. 
- 모바일 디바이스에서 콘텐츠 전송 문제를 해결하고, 클라우드 컴퓨팅과 P2P 네트워크를 활용해 전송 속도를 높였다.

### 3세대 CDN(현재 진행 중):

- 대부분의 웹 서비스가 클라우드에 집중되면서 엣지 컴퓨팅이 중심이 되고 있다. 
- 스마트 디바이스가 대역폭 소비를 관리하는 방향으로 발전하고 있으며, 자체 관리형 자율 엣지 네트워크가 차세대 CDN으로 주목받고 있다.

---

## 5. CDN을 통한 인터넷 콘텐츠 전송 및 캐싱 방식

### 정적 콘텐츠

- 운영자가 Origin 서버의 콘텐츠를 미리 Cache 서버에 복사해 둔다. 
- 사용자가 요청하면 Cache 서버가 빠르게 콘텐츠를 전달한다.
- 예시: 게임 클라이언트 다운로드
- 특징: 자주 변경되지 않는 데이터이다.(로고, 이미지 등)

### 동적 콘텐츠

- Cache 서버에 미리 저장하지 않는다. 
- 요청이 들어오면 콘텐츠가 없을 경우 Origin 서버에서 가져오고, 있으면 캐시된 콘텐츠를 전달한다. 
- 특징: 사용자에 따라 데이터가 달라지는 콘텐츠이다.(뉴스 피드, 채팅 등)

---

## 6. CDN의 작동 방식

- POP (Point of Presence)를 전 세계 여러 위치에 설치한다.

### 핵심 동작 원리

- 캐싱 
- 동적 가속 
- 엣지 로직 계산

### 캐싱

- 사용자가 요청하면 Origin 서버가 응답을 보내고, 가까운 POP 서버에 복사본을 저장한다. 
- 이후 요청은 POP 서버가 빠르게 처리한다.

### 동적 가속

- 동적 콘텐츠는 매번 새로 생성되기 때문에 캐싱이 어렵다. 
- CDN 서버는 오리진 서버와의 연결을 최적화하여 요청 처리 속도를 높인다. 
- 이를 위해 지능형 라우팅, 오리진과의 지리적 근접성 등을 활용한다.

### 엣지 로직 계산

- 엣지 서버가 간단한 논리를 처리해 서버와 클라이언트 간 통신을 최적화한다. 
- 예를 들어 요청 검사, 오류 처리, 콘텐츠 최적화를 수행할 수 있다.

---

## 7. CDN의 필요 기술

### 로드 밸런싱 (Load Balance)

- 최적의 네트워크 경로를 찾아 사용자 요청을 가장 빠르게 연결하는 기술이다. 
- GSLB(Global Server Load Balancing) 방식도 포함된다.

### 콘텐츠 배포 기술

- 콘텐츠가 삭제되거나 수정될 때 이를 관리하는 기술이 필요하다.

### 트래픽 감지 기술

- 트래픽 분산과 통계 제공을 위해 트래픽을 모니터링하는 기술이 필요하다.

---

## 8. CDN 이용 예시

### 고속 콘텐츠 전송

#### 예시: Reuters

- Amazon CloudFront와 Amazon S3를 사용해 전 세계에 신속하고 안정적으로 뉴스를 전달한다.

### 실시간 스트리밍

#### 예시: Hulu

- Amazon CloudFront를 이용해 20Gbps 이상의 비디오 스트리밍을 지속적으로 제공한다.

### 다중 사용자 확장

#### 예시: King (캔디크러쉬 제작사)

- 하루 106억 개 이상의 게임 세션을 처리하며, 새로운 게임이나 대규모 이벤트 시 0.5PB 이상의 데이터를 제공한다.

---

### 참고자료

[CDN](https://hajoung56.tistory.com/115)