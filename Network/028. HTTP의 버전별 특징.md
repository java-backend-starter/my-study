# HTTP의 버전별 특징

---

# HTTP 프로토콜 버전별 특징

## 1. HTTP/1.0

- 연결 유지
  - HTTP/1.0은 서버와 클라이언트 간에 연결을 지속하지 않는다. 
  - 즉, 매 요청마다 DNS 조회, TCP 3-way handshake, SSL/TLS handshake 등의 과정이 반복되어 네트워크 지연이 증가한다.

---

## 2. HTTP/1.1

- Keep-Alive
  - 연결을 유지하여 하나의 TCP 연결로 여러 요청/응답을 처리할 수 있도록 최적화되었다. 
  - 기본적으로 연결을 유지하고, 연결을 끊고 싶을 경우 `Connection: close` 헤더를 통해 명시할 수 있다.
- 파이프라이닝 (Pipelining)
  - 요청에 대한 응답을 기다리지 않고 여러 HTTP 요청을 단일 TCP 연결을 통해 동시에 보낼 수 있게 된다. 
  - 그러나 응답 순서대로 처리해야 하는 제한이 있으며, 후속 요청이 앞선 요청에 영향을 받는 Head of Line Blocking (HOL Blocking) 문제가 존재한다.
- 파이프라이닝의 단점
  - 브라우저와 프록시 서버에서 파이프라이닝을 제대로 처리하지 못해 크롬, 파이어폭스 등은 이 기능을 지원하지 않게 되었다.

---

## 3. HTTP/2.0

- 프레임 및 스트림
  - 메시지를 텍스트가 아닌 이진 형식으로 전송하며, `HEADER frame`과 `DATA frame` 등으로 나누어 처리된다. 
  - 각각의 프레임은 `Stream Sequence` 번호로 구분되어, 여러 스트림을 동시에 처리할 수 있게 된다.
- 멀티플렉싱 (Multiplexing)
  - 여러 요청과 응답을 동시에 처리할 수 있게 되어 HTTP/1.1에서 발생하던 HOL Blocking 문제를 해결할 수 있다. 
  - 응답이 순차적으로 오지 않아도 된다.
- TCP HOL Blocking 해결 안 됨
  - 멀티플렉싱을 통해 응용 계층에서의 HOL Blocking 문제는 해결되었으나, 여전히 TCP 계층에서 패킷 손실 시 다른 스트림이 영향을 받을 수 있는 문제가 남아 있다.
- 서버 푸시 (Server Push)
  - 서버가 클라이언트의 요청을 기다리지 않고 미리 리소스를 푸시할 수 있지만, 클라이언트가 이 리소스를 인지하지 못하는 문제로 구글 크롬은 이 기능을 제거했다.

---

## 4. HTTP/3.0

- QUIC 프로토콜 사용
  - HTTP/3.0은 TCP 대신 UDP 기반의 QUIC 프로토콜을 사용하여, TCP에서 발생할 수 있는 HOL Blocking을 해결한다. 
  - 각 스트림은 독립적으로 처리되므로 패킷 손실 시 영향을 받는 범위가 줄어든다.
- Zero RTT 연결
  - 서버와 클라이언트 간에 연결을 맺을 때, 0 RTT (Round-Trip Time)로 데이터를 전송할 수 있어 연결 시간과 지연을 최소화합니다. 
  - TCP와 TLS 연결은 각각 1~3 RTT가 소요되지만, QUIC은 이를 대폭 줄였습니다.

### QUIC (Quick UDP Internet Connections)

#### 정의

- QUIC은 구글에서 개발한 애플리케이션 계층 프로토콜로, 2015년부터 사용되었으며 2021년 RFC 9000으로 표준화됨.

#### 특징

- 핸드 셰이크 시간 감소: QUIC은 1 RTT로 연결을 설정하고 데이터를 전송하여 연결 시간이 단축됨.
- HOLB(Head of Line Blocking) 해결: 독립적인 스트림 처리를 통해 네트워크 장애의 영향을 차단.
- Connection ID 사용: 네트워크 변경 시에도 연결을 유지할 수 있음.
- 단점: 기존 시스템과 호환성 문제, 암호화로 인한 네트워크 제어 어려움, 높은 CPU 사용 등.

---

## 5. 결론

- HTTP/1.0: 연결을 요청마다 새로 맺음.
- HTTP/1.1: 연결을 유지하고 여러 요청을 처리할 수 있도록 개선 (Keep-Alive).
- HTTP/2.0: 파이프라이닝과 멀티플렉싱을 도입하여 응답 순서의 문제 해결, 서버 푸시 지원.
- HTTP/3.0: QUIC 프로토콜을 사용하여 HOL Blocking을 해결하고, Zero RTT 연결을 통해 빠른 데이터 전송을 가능하게 함.

---

### 참고자료

[HTTP의 버전별 차이](https://dkswhdgur246.tistory.com/53)

[QUIC](https://velog.io/@whereami2048/%EA%B3%84%EC%B8%B5-%EB%B3%84-%EB%8C%80%ED%91%9C-%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C%EA%B3%BC-%EA%B5%AC%EC%84%B1-%EA%B8%B0%EA%B8%B0)