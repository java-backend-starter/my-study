# IP 주소 할당 방식

---

## 1. 정적 할당 (Static IP Addressing)

### 정의

- 수동 방식: 네트워크 관리자가 직접 호스트에 IP 주소를 부여하는 방식 
- 고정된 주소이므로 장비를 재부팅해도 IP 주소가 변하지 않음

### 설정 시 입력 항목

- IP 주소
- 서브넷 마스크 (Subnet Mask)
- 기본 게이트웨이 (Default Gateway)
- DNS 서버 주소

### 기본 게이트웨d이

- 게이트웨이: 서로 다른 네트워크를 연결해주는 장비 (보통 라우터)
- 기본 게이트웨이 (Default Gateway): 네트워크 외부로 나갈 때 사용하는 ‘첫 번째 홉’ 주소 
  - 대부분 라우터의 내부 IP 주소임 (예: 192.168.0.1)

### DNS 주소란?

- DNS 서버: 도메인 이름 → IP 주소로 변환
- 기본적으로 ISP가 자동 제공
- 공개 DNS도 사용 가능 (예: 8.8.8.8 - Google, 1.1.1.1 - Cloudflare)

### 정적 IP의 한계

- 호스트 수가 많을 경우 관리 어려움
- 입력 실수로 중복된 주소나 잘못된 설정 가능 
- 휴먼 에러 발생

---

## 2. 동적 할당 (Dynamic IP Addressing) / DHCP 방식

### 정의

- 자동 방식: 프로토콜(DHCP)을 이용해 IP 주소를 자동으로 할당받음 
- 할당된 IP 주소 = 동적 IP 주소

### DHCP (Dynamic Host Configuration Protocol)

- 클라이언트: IP가 필요한 호스트
- DHCP 서버: IP 주소를 제공 (보통 공유기가 이 역할 수행)

### DHCP IP 할당 흐름

1. DHCP Discover (클라이언트 → 브로드캐스트)
   - DHCP 서버를 찾기 위한 메시지
   - 송신지 IP = 0.0.0.0
2. DHCP Offer (서버 → 클라이언트)
   - 할당 가능한 IP, 서브넷, 임대 기간 등의 정보 포함
3. DHCP Request (클라이언트 → 서버)
   - 해당 IP 주소를 사용하겠다고 요청
4. DHCP ACK (서버 → 클라이언트)
   - 최종 승인 → IP 주소 할당 완료

### 리스(임대) 개념

- DHCP로 할당받은 IP 주소는 일정 기간만 사용 가능
- 임대 기간(Lease Time)이 만료되면 주소 반납 or 갱신

### 리스 갱신 (Lease Renewal)

- 리스 만료 전에 자동으로 두 차례 갱신 시도
- 모두 실패 시 IP 주소 반납 → 새로운 과정 시작

---

### 참고자료

[IP 주소 할당 방식](https://hail2y.tistory.com/92)