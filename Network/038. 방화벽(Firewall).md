# 방화벽

---

## 1. 방화벽(Firewall)이란?

- IT 네트워크에서 데이터를 필터링하고, 신뢰할 수 없는 네트워크로부터의 위협을 차단하는 하드웨어 또는 소프트웨어이다. 
- 물리적 방화벽은 불을 차단하는 벽처럼, IT 방화벽은 네트워크 트래픽을 감시하고, 데이터를 필터링하여 위험을 차단한다.

---

## 2. 방화벽의 역할

- 방화벽의 주요 역할은 외부에서 들어오는 불필요하거나 유해한 트래픽을 차단하는 것이다.
  - 이를 통해 시스템을 보호하고 네트워크의 보안을 유지한다. 
- 방화벽은 다양한 필터링 기법을 사용하여 악성 트래픽을 감지하고 차단한다.
- 해킹 공격 패턴이 점점 더 정교해지면서, 고급 필터링 기능을 추가하여 더 정밀한 보안을 제공한다.

### 방화벽의 기능

1. 패킷 필터링
   - 패킷 필터링은 가장 기본적인 기능으로, 미리 설정된 정책에 따라 데이터 패킷을 허용하거나 차단한다.
2. 프록시
   - 방화벽은 프록시 서버를 통해 트래픽을 검사하고, 안전한 연결을 중개한다. 
   - 이를 통해 악성 데이터를 방지할 수 있다.
3. 세션 관리
   - 고급 방화벽은 패킷이 속한 세션을 관리하여, 세션 중에 발생할 수 있는 공격을 막는다.
4. 네트워크 주소 변환(NAT)
   - NAT는 내부 네트워크의 IP 주소를 외부에 노출되지 않도록 변환한다. 
   - 이를 통해 보안을 강화할 수 있다.

---

## 3. 방화벽의 발전 과정

### 1세대: 패킷 필터링 방화벽

- 동작 원리: 전송 계층과 네트워크 계층에서 패킷을 검사하고 필터링한다.
- 특징:
    - 패킷의 출발지와 목적지 주소, 포트 번호를 기준으로 필터링한다.
    - 세션 관리를 하지 않기 때문에 각 패킷을 독립적으로 처리한다.
- 단점:
    - 정책이 많아질 경우 성능 저하가 발생할 수 있다.
    - 우회 공격에 취약하고, 세션 기반 공격에 대응하기 어렵다.

### 2세대: 스테이트풀 인스펙션 방화벽

- 동작 원리: 패킷이 속한 세션을 관리하여, 패킷이 유효한지 여부를 검사한다.
- 특징:
    - 이전 패킷과의 관계를 확인하여, 세션을 기반으로 필터링한다.
    - FTP 같은 복잡한 세션도 별도의 정책 추가 없이 처리할 수 있다.
- 장점:
    - 패킷 필터링보다 보안성이 높고, 상태 기반 트래픽을 허용한다.

### 3세대: 애플리케이션 방화벽 (프록시 방화벽)

- 동작 원리: 애플리케이션 계층에서 데이터를 검사하고, 프록시 서버를 통해 트래픽을 전달한다.
- 특징:
    - 애플리케이션 계층에서 동작하므로 더욱 세밀한 보안 처리가 가능하다.
    - 악성 코드나 침입을 더 정확하게 식별하고 차단할 수 있다.
- 단점:
    - 고성능을 요구하며, 일부 프로토콜을 지원하지 않을 수 있다.

---

## 4. 방화벽의 형태

1. 스크린 라우터 구조:
    - 외부와 내부 네트워크 사이에 스크린 라우터를 배치하여 패킷 필터링을 수행한다.
    - 가장 간단한 방화벽 구조로, 트래픽을 기본적으로 차단한다.
2. 듀얼 홈 호스트 구조:
    - 하나의 호스트가 두 개의 네트워크 인터페이스를 사용하여 외부와 내부 네트워크를 연결한다.
    - 내부와 외부 네트워크의 경계를 명확히 할 수 있다.
3. 스크린 호스트 구조:
    - 베스천 호스트(혹은 DMZ)를 사용하여, 외부와 내부 네트워크 사이의 연결을 관리한다.
    - 외부와 내부 네트워크 간의 트래픽을 제어하는 역할을 한다.
4. 스크린 서브넷 구조:
    - 외부 네트워크와 내부 네트워크 사이에 하나 이상의 경계 네트워크(DMZ 등)를 배치한다.
    - 다단계 보안을 제공하며, 외부와 내부 네트워크 간의 통신을 보다 안전하게 제어한다.

## 방화벽의 고급 기능

- 도메인 기반 정책 설정: 특정 도메인에 대한 접근을 제어하여, 내부 시스템을 외부 공격으로부터 보호한다.
- 서비스별 필터링: 서비스 종류별로 필터링하여 불필요한 서비스를 차단하고, 필요한 서비스만 허용한다.
- 로그 기록 및 분석: 방화벽은 모든 트래픽에 대해 로그를 기록하고 분석하여, 보안 사건을 추적한다.

---

### 참고자료

[방화벽](https://plummmm.tistory.com/423)