# 코드 리뷰

---

## 1. 코드 리뷰란?

- 코드 리뷰는 소프트웨어 실행 없이 사람이 직접 코드를 검토하여 잠재적인 결함을 발견하고, 개선해 나가면서 전반적인 소프트웨어 품질을 높이는 활동이다.

### 현업에서의 코드 리뷰

- 코드 리뷰는 개발 단계에서 일상적으로 수행되며, 제품 완성 단계가 아닌 개발 단계에서 이루어진다. 
- 코드를 통해 서로 소통하고, 배우고, 피드백을 주고받는 활동이다.

### 기대 효과

- 개발 비용 감소
  - 결함을 개발 초기 단계에서 발견함으로써 해결 비용을 절감할 수 있다. 
  - 결함을 나중에 발견할수록 해결 비용은 더 많이 소요된다.
- 유지보수성 증대
  - 좋은 코드 품질을 유지하기 위해서는 개발 의도가 표현된 코드, 다른 사람이 이해하고 변경하기 쉬운 코드, 의미가 있는 함수 및 클래스가 필요하다.
- 역량 강화
  - 팀 내에서 서로 협력하며 지식과 경험을 지속적으로 공유하고 학습할 수 있다.

### 그 외 품질 개선 활동

- Unit Test: 개별적인 코드 단위 테스트. 
- 정적 분석 (Static Analysis): 코드 실행 없이 잠재적인 결함을 찾아내는 분석. 
- 오픈 소스 도구: xLint, PMD, CheckStyle, Findbugs 
- 상용 도구: Coverity, SonarQube, Klocwork 
- 검출 내역 예시: Buffer Overflow, 메모리 누수, 초기화되지 않은 변수 사용 등. 
- 리팩토링: 코드의 Bad Smell 제거. 
- Integration Test, System Test, Acceptance Test: 시스템 통합 테스트 및 검수 활동.

---

## 2. 코드 리뷰 방법론

### 오프라인 코드 리뷰

- Inspection
  - IBM의 Fagan에 의해 정립된 방법으로, 전문적 팀이 프로세스와 체크리스트에 따라 결함을 찾는다. 
  - 단계는 Planning -> Overview -> Preparation -> Inspection -> Rework -> Follow-up으로 이루어진다.
- Peer Review
  - 개발팀이 주도하여 직접 모여 리뷰하는 기법. 
  - 리뷰는 발표자가 리드하며, 결함과 개선안을 찾는다.
- Peer Desk Check
  - 짧은 시간 동안 동료와 함께 간단히 리뷰하는 방법 (5-10분). 
  - 실수 등을 쉽게 찾아낼 수 있어 효과적이다.
- Pair Programming
  - 두 명이 하나의 PC를 사용해 작업하는 형태. 
  - 커뮤니케이션 증진과 코드 품질 향상을 도모한다.

### 온라인 코드 리뷰

- Pre-commit Review: 코드 반영 전 리뷰를 수행하여 결함을 제거한다. 
- Post-commit Review: 코드 반영 후 리뷰를 통해 결함을 찾아내고 수정한다.

### 코드 리뷰 운영 프로세스

- 효율적인 코드 리뷰를 위해 팀 프로세스의 지속적인 개선이 필요하다. 코드 리뷰의 어려움은 다음과 같다:
  - 완벽한 코드와 리뷰는 없다: 코드와 리뷰는 상황에 따라 계속 변화할 수 있다. 
  - 리뷰 체크리스트: 너무 상세한 체크리스트는 리뷰 시간이 늘어날 수 있다. 
  - 개인 능력 차이: 개발자의 역량과 도메인 지식에 따라 리뷰의 질이 달라질 수 있다. 
  - 도메인 지식 부족: 도메인 지식이 부족하면 코드 리뷰가 어렵거나 효과적이지 않을 수 있다.

### 코드 리뷰 팀 목표 수립

- 기본 검토 항목: 코드의 Readability(가독성)와 Correctness(정확성)는 모든 코드 리뷰에서 기본적으로 확인해야 한다. 
- 단위 테스트 강화: 코드 리뷰를 통해 단위 테스트를 강화해야 한다. 
- 도메인 지식 확보 후 리뷰: 도메인 지식이 필요한 리뷰는 디자인 리뷰나 세미나, 페어 프로그래밍을 통해 도메인 지식을 확보한 후 진행한다. 
- 비기능 항목 및 고수준 코드 디자인 리뷰: 성능(Performance) 등의 비기능 항목 및 고수준 디자인에 대해서도 리뷰를 확대해 나가야 한다.

---

### 참고자료

[코드 리뷰](https://velog.io/@jkseo50/%EC%BD%94%EB%93%9C-%EB%A6%AC%EB%B7%B0%EC%9D%98-%EC%A0%95%EC%9D%98-%EB%B0%8F-%EB%B0%A9%EB%B2%95%EB%A1%A0)