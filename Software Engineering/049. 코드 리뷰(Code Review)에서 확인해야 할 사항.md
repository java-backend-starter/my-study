# 코드 리뷰(Code Review)에서 확인해야 할 사항

---

## 1. 코드 리뷰란?
   
- 동료가 작성한 코드를 점검하고 피드백을 교환하는 과정이다. 
- 새로 추가하거나 변경하는 코드를 모두가 책임감을 가지고 검토한다. 
- 이 문서는 코드 리뷰를 요청하거나, 코드 리뷰를 진행할 때 필요한 지침을 제공한다.

---

## 2. 코드 리뷰 기본 원칙
   
- 모든 코드는 코드 리뷰 후 머지한다. 
- 혼자가 아닌 함께 하는 작업이므로 모두가 책임감을 갖는다. 
- 최소 2명을 필수 리뷰어(assigner)로 지정하고, 팀(meshkorea/web-front-end)을 리뷰어로 추가한다. 
- 2명의 필수 리뷰어가 PR을 승인해야 머지할 수 있다. 
- 인프라 작업이나 릴리즈 PR은 review skip 레이블을 붙이고 스프린트 리뷰 시간에 일괄 검토한다. 
- PR을 받으면 하루 안에 답변한다. 답변이 없으면 재촉한다. 
- 리뷰 양이 많으면 오프라인 리뷰를 요청한다. 
- 신경 써야 할 리뷰 포인트는 코멘트를 남긴다. 
- 취향 주장보다는 사실과 데이터를 바탕으로 의견을 교환한다.

---

## 3. 코드 리뷰 요청 매너

### 변경 내용에 대한 충분한 정보 제공
   
- 커밋 메시지를 충실히 작성한다. 
  - 제목만 보고도 어떤 작업인지 유추할 수 있어야 한다. 
  - 제목에 간략 요약, 상세 내용은 본문에 작성한다. 
- PR 본문을 충실히 작성한다. 
  - PR 작성 계기, 수정 방향, 관련 이슈 등을 포함한다.

### PR 템플릿 예시

```markdown
[(키워드)] (작업 내용) - (PR 순서)

## 설명
### 작업 티켓 or 동기
- (Optional) 작업 이유나 티켓 번호

### 스크린샷
- (Optional) UI 변경 시 사진이나 GIF

### 작업 내용
- PR 본문 입력

### 주안점
- (Optional) 리뷰 집중 포인트

## 연관 PR
- (Optional) 관련 PR 링크

## 연관 티켓
- (Optional) 관련 티켓 링크

## 체크리스트
- 설명, 기술 설명, 비즈니스 로직 설명 포함 여부
- 팀원 2명 assign, web-front 팀 추가
- Jira 티켓 추가 여부
- 테스트 작성 여부
- 인프라/릴리즈 PR이면 review skip 레이블 추가 여부
```

### 작은 PR 만들기
  
- 변경 코드가 적을수록 리뷰가 쉽고, 버그 발생 가능성도 낮아진다. 
- 하나의 PR에는 하나의 작업만 담는다. 
- 리뷰에 필요한 정보(주석, 커밋, PR 본문 등)를 충분히 제공한다. 
- 새로운 함수나 API를 추가할 때는 사용 예시도 함께 PR에 포함한다.

---

## 4. 코드 리뷰 시 주의사항

### 코드 리뷰 시 확인할 것
   
- 설계 
  - 사내 설계 원칙과 일반 설계 지침 준수 여부
- 유지보수성 
  - 하드코딩 여부 
  - 주석이 의도 설명을 하고 있는지 
  - 변수명, 함수명, 클래스명이 올바른지 
  - 설정파일(.env 등)을 통한 설정 가능 여부 
  - 스타일 가이드 준수 여부 
  - 함수 길이(10줄 초과 주의)
- 재사용성 
  - 중복된 코드 여부 
  - 반복 코드의 함수/클래스 분리 가능성
- 안정성 
  - 예외 처리 여부 
  - 자원 반환(예: useEffect clean up) 여부 
- 확장성 
  - 새로운 기능 추가 용이성 
  - 함수/클래스가 하나 이상의 관심사를 갖고 있는지 여부 
- 테스트 
  - 테스트 용이성 
  - 테스트 코드 작성 여부 및 개선 가능성

### 리뷰하는 방법

- 전체 코드를 빠르게 훑는다. 
- PR 주안점을 확인한다. 
- 변경 파일을 꼼꼼히 확인한다. 
- 잘한 부분은 칭찬한다. 
- 코드 양이 많으면 오프라인 리뷰 요청을 고려한다.

### 코드 리뷰 타이밍

- PR 요청을 받으면 가능한 빨리 리뷰한다. 
- 하루 안에 답변을 준다.
- 좋은 타이밍 예시
  - 출근 직후 
  - 점심 이후 
  - 회의나 외출 후

---

## 5. 커뮤니케이션 매너

### 동료의 능력을 존중하기
   
- 작성자의 의도를 먼저 이해하려고 한다.

### 팀의 자산이라는 인식

- 개인 취향보다는 협업에 좋은 코드를 찾는다. 

### 객관적인 자료 제시

- 공식 문서나 Best Practice를 근거로 제시한다.
- 예시 
  - 아쉬운 표현: "이렇게 하면 안 됩니다."
  - 좋은 표현: "공식 문서에서는 이렇게 추천하고 있습니다. 함께 참고해볼까요?"

### 부드러운 언어 사용

- 부드러운 표현이나 이모티콘 사용을 고려한다. 
- 예시 
  - 아쉬운 표현: "변수 이름을 잘 모르겠습니다."
  - 좋은 표현: "변수 이름을 어떻게 개선할 수 있을지 함께 고민해볼까요? ?"

### 비난 대신 제안

- 공격적인 표현을 삼가고, 개선 방향을 제시한다.
- 예시 
  - 아쉬운 표현: "왜 이렇게 했나요? 복잡합니다."
  - 좋은 표현: "useEffect clean-up을 활용하면 코드가 더 깔끔해질 것 같아요!"

### 정확하게 요청하기

- 모호한 질문을 피하고 구체적으로 요청한다. 
- 예시 
  - 아쉬운 표현: "잘 모르겠습니다."
  - 좋은 표현: "useMemo의 deps에 빠진 값이 있는 것 같아요. 의도하신 건가요?"

---

[코드 리뷰(Code Review)에서 확인해야 할 사항](https://github.com/meshkorea/front-end-engineering/blob/main/conventions/code-review/index.md)