# 로드 테스트 vs 스트레스 테스트

---

## 1. 성능 테스트란?

- 성능 테스트는 다양한 부하 상황에서 시스템이 안정적으로 작동하는지 평가하는 테스트 과정이다. 
- 예상되는 사용자 수, 트랜잭션, 요청 수를 효과적으로 처리할 수 있는지를 확인하고, 성능 문제를 사전에 발견하여 개선하는 것을 목적으로 합한다.

---

## 2.  성능 테스트 유형

### 스모크 테스트 (Smoke Test)
   
- 목적: 스크립트와 시스템이 최소 부하에서 제대로 동작하는지 검증한다. 
- 특징: 소수의 가상 사용자(Virtual User)로 짧은 시간 동안 테스트를 수행한다. 
- 예시: VU 220명, 지속 시간 30초3분 
- 실행 시점: 테스트 스크립트나 애플리케이션 코드가 변경될 때마다 수행하는 것을 권장한다.

### 평균 부하 테스트 (Average Load Test)
   
- 목적: 일반적인 부하 상황에서 시스템의 성능을 평가한다. 
- 특징: 평균적인 동시 사용자 수와 RPS(초당 요청 수)를 고려하여 점진적으로 부하를 증가시킨 후 일정 시간 동안 유지한다. 
- 구성: 랩프업(부하 증가) → 플래토(유지) → 램프다운(부하 감소) 형태로 테스트를 수행한다.

### 스트레스 테스트 (Stress Test)

- 목적: 평균 부하보다 더 높은 부하에서 시스템의 성능 한계를 확인한다. 
- 특징: 더 높은 부하를 고려하여 램프업/플래토/램프다운 시간을 평균 부하 테스트보다 더 길게 진행한다.

### 소크 테스트 (Soak Test)

- 목적: 장기간 동안 시스템의 안정성과 자원 누수를 평가한다. 
- 특징: 장시간 동안 부하를 유지하며, 램프업/램프다운 시간과 부하 수준은 평균 부하 테스트와 동일하게 진행한다.

### 스파이크 테스트 (Spike Test)

- 목적: 갑작스러운 대규모 트래픽 상황에서 시스템의 견딤과 성능을 평가한다. 
- 특징: 매우 짧거나 아예 없는 램프업/램프다운 시간을 가지며 바로 높은 부하를 주고 짧은 기간을 유지한다.

### 브레이크포인트 테스트 (Breakpoint Test)
   
- 목적: 점진적으로 부하를 증가시켜 시스템의 한계점을 파악한다. 
- 특징: 비현실적으로 높은 수치까지 부하를 점진적으로 증가시켜 임계값이 실패하기 시작할 때 중단한다.


### 비교

| 테스트 유형              | 목적                                                       | 특징                                                                 | 예시/구성                                       | 실행 시점 또는 사용 용도                           |
|---------------------------|------------------------------------------------------------|----------------------------------------------------------------------|--------------------------------------------------|----------------------------------------------------|
| 스모크 테스트            | 최소 부하에서 시스템과 스크립트의 정상 작동 여부 확인         | 소수의 VU, 짧은 시간 수행                                           | VU 2~20명, 30초~3분                               | 코드/스크립트 변경 시마다 빠르게 확인               |
| 평균 부하 테스트         | 일반적인 부하에서의 시스템 성능 평가                        | 평균적인 VU 및 RPS로 점진적 부하 후 일정 시간 유지                  | 램프업 → 플래토 → 램프다운                         | 일상적인 성능 점검                                 |
| 스트레스 테스트          | 시스템 한계 확인                                             | 평균 부하보다 높은 조건, 더 긴 테스트 시간                          | 램프업 → 플래토 → 램프다운 (평균보다 더 강도 높음)  | 병목/장애 시점 확인                                 |
| 소크 테스트              | 장시간 사용에 따른 안정성과 자원 누수 평가                 | 장시간 유지, 부하 수준은 평균 부하와 유사                          | 수 시간~수일간 지속                               | 장기적 자원 안정성 평가                             |
| 스파이크 테스트          | 갑작스러운 트래픽 급증 상황 대응 평가                      | 즉시 고부하 발생, 짧은 시간 유지                                    | 램프업 거의 없음 → 급격한 고부하 적용             | 이벤트·프로모션 대응력 확인                         |
| 브레이크포인트 테스트    | 시스템이 견딜 수 있는 최대 부하(임계점) 식별               | 부하 점진 증가, 임계 실패 지점에서 중단                            | VU 또는 RPS를 계속 증가 → 장애 발생 시점에서 종료 | 성능 한계 파악, 확장 전 한계 확인                   |


---

## 3. 주요 성능 지표

### 응답 시간 (Response Time) / 지연 시간 (Latency Time)

- 요청을 보낸 시점부터 서버가 응답을 보내기 시작하는 시점까지의 시간이다.

### 처리량 (Throughput)

- 시스템이 일정 시간 동안 처리할 수 있는 요청의 양이다. 
  - TPS: 초당 처리된 트랜잭션 수 
  - RPS: 초당 처리된 요청 수

### 에러율 (Error Rate)

- 실패한 요청의 비율로, 시스템 안정성과 문제 발생 여부를 파악하는 데 사용된다.

### CPU 사용률 (CPU Utilization)

- 처리 중에 사용된 CPU 용량의 비율을 측정하여 CPU 효율성을 평가한다.

### 메모리 사용률 (Memory Utilization)

- 총 메모리 중 사용된 메모리의 비율을 나타내며, 메모리 누수 또는 부족 여부를 판단할 수 있다.

### 평균 지연 시간 (Average Latency Time)

- 시스템이 사용자 요청에 응답하는 데 걸리는 전체 시간을 측정한다.

### 네트워크 지연 시간 (Network Latency Time)

- 네트워크에서의 데이터 전송 시 발생하는 지연 시간이다.

### 대기 시간 (Wait Time)

- 요청을 서버에 보낸 순간부터 첫 번째 바이트가 수신될 때까지 걸리는 시간이다.

### 동시 사용자 수 (Concurrent Users)

- 성능 저하나 오류 없이 동시에 시스템에 접속하여 작업을 수행할 수 있는 최대 사용자 수를 의미한다

---

### 참고자료

[성능테스트](https://velog.io/@gjwjdghk123/%EC%84%B1%EB%8A%A5-%ED%85%8C%EC%8A%A4%ED%8A%B8%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%BC%EA%B9%8C)