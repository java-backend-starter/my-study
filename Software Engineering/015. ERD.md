# ERD

---

## 1. ERD(Entity-Relationship Diagram, 개체-관계 다이어그램)

- 데이터베이스 설계에서 개체(Entity)와 그들 간의 관계(Relationship)를 시각적으로 표현하는 도구
- 데이터 구조를 명확하게 이해하고 설계할 수 있음

---

## 2. ERD의 주요 구성 요소

### 개체(Entity)

- 실제 존재하거나 개념적으로 정의할 수 있는 사물이나 개념입니다.
- 예: 학생, 도서, 프로필 등
- 이름은 단수형 대문자로 표기하며, 각 개체는 고유한 식별자(UID)를 가져야 합니다.

### 속성(Attribute)

- 개체를 설명하는 특성이나 세부 정보입니다.
- 예: 학생 개체의 속성으로 이름, 생년월일, 학번 등이 있을 수 있습니다.
- 속성 이름은 소문자로 표기하며, "UID"는 고유 식별자를, "#"은 필수 속성을, "*"은 선택적 속성을 의미합니다.

### 관계(Relationship)

- 개체들 간의 상호 작용이나 연관성을 나타냅니다.
- 예: 학생과 수업 간의 "수강" 관계
- 관계의 필수성은 실선(필수)과 점선(선택)으로 구분하며, 카디널리티는 관계의 수를 나타냅니다.

---

## 3. ERD에서의 관계 유형(카디널리티)

- 일대일(1:1): 한 개체가 다른 개체와 정확히 하나의 관계를 가질 때
    - 예: 학생과 학생증
- 일대다(1:N): 한 개체가 여러 개체와 관계를 가질 때
    - 예: 한 명의 교수님이 여러 명의 학생을 지도
- 다대다(M:N): 여러 개체가 서로 여러 관계를 가질 때
    - 예: 학생과 수업
    - 이 경우 중간에 교차 엔터티를 도입하여 관계를 분해

---

## 4. 관계의 해소

### 다대다(M:N) 관계 해소

- 다대다 관계를 해소하기 위해 중간 테이블을 도입하여 두 개체 간의 관계를 일대다(1:N) 또는 다대일(N:1) 관계로 변환
- 이 중간 테이블은 두 개체의 기본 키를 외래 키로 포함하고 있으며, 필요에 따라 추가적인 속성을 가질 수 있음
- 예를 들어, "학생"과 "수업" 간의 다대다 관계를 해소하려면 "수강"이라는 중간 테이블을 생성하여 학생과 수업의 관계를 정의

#### 예시

- 학생(학생ID, 이름, 전공 등)
- 수업(수업ID, 과목명, 교수명 등)
- 수강(학생ID, 수업ID, 학기, 성적 등) ? 학생과 수업 간의 관계를 표현하는 교차 엔터티

### 다대일(N:1) 관계 해소

- 다대일 관계의 경우, 한 개체가 다른 개체와 여러 관계를 가질 때 발생하며, 이 관계는 그대로 두어도 문제가 없음
- 다만, 때때로 다대일 관계를 해소하기 위해 외래 키를 다른 개체에 포함시켜 관계를 명확히 할 수 있음

### 일대다(1:N) 관계 해소

- 일대다 관계는 특별히 해소할 필요 없이, 원래의 설계대로 일대다 관계를 그대로 유지
- 단, 일대다 관계의 경우, "다" 쪽 개체에 외래 키를 추가하여 관계를 설정할 수 있음

### ERD에서 관계 해소 방법의 예

- 학생과 수업 간의 다대다(M:N) 관계를 해소하려면
    - 수강이라는 중간 테이블을 생성
    - 학생 테이블과 수업 테이블 각각에 외래 키를 추가 (학생ID, 수업ID)
    - 수강 테이블은 두 테이블을 연결하는 교차 테이블 역할을 함

---

### 참고자료

[ERD](https://shuu.tistory.com/64)