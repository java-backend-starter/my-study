# 데이터베이스 설계시 고려사항

---

## 1. 데이터베이스 설계 개요

- 조직의 목표 달성을 위한 데이터 구조화 과정
- 정보 시스템 개발 절차의 일부이자 독립된 분야

---

## 2. 데이터베이스 개발 생명 주기

1. 요구사항 분석
2. 설계
3. 구현
4. 운영
5. 감시 및 개선  
   → 문제 발생 시 이전 단계로 회귀하여 수정

---

## 3. 데이터베이스 설계 단계

- 요구사항 분석 기반
- 논리적/물리적 구조 설계
- 성능 요소 고려: 응답시간, 처리시간, 저장공간

### 설계 시 고려사항

- 무결성: 제약조건 유지
- 일관성: 데이터 간 정합성
- 회복: 장애 시 복구
- 보안: 불법 접근 방지
- 효율성: 빠른 처리, 공간 절약
- 확장성: 데이터 추가 용이

---

## 4. 요구사항 분석

- 요구사항 명세서 작성
    - 정적 정보: 엔티티, 속성, 관계, 제약조건
    - 동적 정보: 트랜잭션 유형, 실행 빈도
    - 정책/제약: 경영 목표, 조직 전략 등

### 분석 절차

1. 일반 정보 분석: 조직 구조, 제품 등
2. 관련 문서 수집: 업무 매뉴얼, 전표 등
3. 경영 정책 파악: 내·외부 제약 포함
4. 자료 정리 및 분류
5. 공식적 명세서 작성
6. 확인 회의

---

## 5. 개념적 설계

- 현실 세계의 데이터 구조를 개념적으로 표현
- E-R 다이어그램 사용

### 5-1. 스키마 모델링

- 엔티티, 속성, 관계 정의
- 추상화: 현실을 단순화
- 집단화: 하위 개체 → 상위 개체 (예: 엔진, 바퀴 → 자동차)
- 일반화: 공통 속성 추출 (예: 버스, 트럭 → 자동차)

---

## 6. 트랜잭션 모델링

- 처리 중심 설계
- 주요 트랜잭션 정의 및 실행 빈도 파악
- 입력/출력, 내부 제어 흐름 정의

### 트랜잭션 (ACID 특성)

- 일련의 연산 또는 단계들을 포함하는 하나의 작업 단위
1. Atomicity (원자성): 전부 수행 또는 전혀 수행하지 않음
2. Consistency (일관성): 실행 전후 상태가 일관됨
3. Isolation (독립성): 트랜잭션 간 간섭 없음
4. Durability (지속성): 완료된 결과는 영구 저장

---

## 7. 논리적 설계

- 목표 DBMS가 처리 가능한 논리적 데이터 스키마 생성

### 7-1. 논리적 데이터 모델 변환

- 개념적 스키마 → 논리적 데이터 모델
- DDL로 기술된 스키마에 물리 설계용 매개변수 포함

### 7-2. 트랜잭션 인터페이스 설계

- 트랜잭션 골격 및 인터페이스 정의
- 데이터 접근 방법 명세

### 7-3. 스키마의 평가 및 정제

- 정량적 정보 기반 성능 평가
    - 데이터 크기
    - 처리 빈도수
    - 작업량
- 평가 기준:
    - 논리적 레코드 접근
    - 데이터 전송량
    - DB 크기 등

### 7-4. 관계형 데이터 모델 설계 사례

- 사각형: 엔티티 테이블
- 다이아몬드: 관계 테이블  
  → 3개 엔티티 + 3개 관계 테이블 구성

### 7-5. 관계 표현 방식

1. 독립된 테이블로 관계 표현
2. 공통 속성으로 묵시적 관계 표현
    - 예: 학생 테이블에 "교수번호" 추가 → (a)
    - 예: 교수 테이블에 "학번" 추가 → (b)
    - 설계자의 판단에 따라 선택

### 7-6. 고려사항

- 데이터 중복 vs. 처리 효율성
- (a) 방식: 중복 적고 효율적 (1:n 관계 시 n쪽에 키 첨가)
- (b) 방식: 중복 큼, 비효율적

---

## 8. 물리적 설계

- 논리 스키마 → 효율적이고 실제 구현 가능한 내부 스키마 생성

### 8-1. 물리적 설계 포함 항목

- 저장 레코드 양식 설계:
    - 데이터 타입, 분포, 응용, 접근 빈도 고려
- 레코드 집중화:
    - 관련 레코드들 물리적으로 인접하게 저장
- 접근 경로:
    - 검색 및 저장을 위한 경로 정의
- 저장 구조:
    - 인덱스와 데이터파일로 구성

### 8-2. 탐색 기법

- 응용에 맞는 접근 경로 정의

### 8-3. 기본 접근 경로

- 기본키 기반 인덱스 사용
- 초기 적재, 물리적 위치 기반 검색
- 주요 응용이 이를 사용하도록 설계

### 8-4. 보조 접근 경로

- 보조키 기반 보조 인덱스 사용
- 장점: 접근 시간 단축
- 단점: 공간 사용 증가, 인덱스 관리 복잡

### 8-5. 성능 향상 도구 (상용 DBMS 지원)

- 인덱싱
- 레코드 집중화
- 포인터
- 해싱 등

### 8-6. 물리적 설계 시 고려사항

- 트랜잭션 응답 시간: 요청 ~ 결과 수신까지의 시간
- 저장 공간 효율화: 최소한의 저장공간 사용
- 트랜잭션 처리도: 단위 시간당 처리 가능한 평균 트랜잭션 수

### 8-7. 물리적 설계 평가

- 평가 방법: 시뮬레이션, 프로토타입 등
- DBMS는 성능 평가용 통계 데이터를 시스템 카탈로그에 저장
    - 트랜잭션 발생 수
    - 입출력 연산 수
    - 페이지/인덱스 수
    - 인덱스 사용 빈도

---

### 참고자료

[DB 설계시 고려사항](https://velog.io/@bviigp32/%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4-%EC%84%A4%EA%B3%84-Database-Design)