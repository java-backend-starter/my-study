# 트랜잭션의 격리수준에서 발생할 수 있는 문제

---

## 1. 트랜잭션 격리 수준(Transaction Isolation Level)

- 트랜잭션 격리 수준은 데이터베이스에서 동시에 실행되는 트랜잭션 간의 상호작용을 제어하여 데이터의 일관성과 정합성을 유지하는 개념이다. 
- 격리 수준은 트랜잭션 간의 상호작용을 제한하여 여러 트랜잭션이 동시에 실행될 때 발생할 수 있는 문제를 방지한다.

---

## 2. 트랜잭션 격리 수준의 종류와 특징

트랜잭션 격리 수준은 다음과 같이 네 가지로 분류됩니다:

1. READ UNCOMMITTED (커밋되지 않은 읽기)
    - 특징: 다른 트랜잭션에서 아직 커밋되지 않은 데이터를 읽을 수 있다.
    - 장점: 가장 낮은 격리 수준으로 성능이 높다.
    - 단점: 데이터 정합성이 보장되지 않으며, 더티 리드(Dirty Read), 반복 불가능한 읽기(Non-Repeatable Read), 팬텀 리드(Phantom Read)가 발생할 수 있다.
2. READ COMMITTED (커밋된 읽기)
    - 특징: 다른 트랜잭션에서 커밋된 데이터만 읽을 수 있다.
    - 장점: 더티 리드를 방지한다.
    - 단점: 반복 불가능한 읽기와 팬텀 리드가 발생할 수 있다.
3. REPEATABLE READ (반복 가능한 읽기)
    - 특징: 트랜잭션이 시작된 시점의 데이터를 기준으로 조회하며, 트랜잭션이 완료될 때까지 동일한 데이터를 조회할 수 있다.
    - 장점: 반복 불가능한 읽기를 방지한다.
    - 단점: 팬텀 리드가 발생할 수 있다.
4. SERIALIZABLE (직렬화 가능)
    - 특징: 모든 트랜잭션이 순차적으로 실행되는 것처럼 처리되어, 다른 트랜잭션이 접근할 수 없도록 한다.
    - 장점: 모든 동시성 문제를 방지한다.
    - 단점: 성능 저하가 발생할 수 있으며, 데드락(Deadlock)의 위험이 있다.

---

## 3. 각 격리 수준에서 발생할 수 있는 문제

- 더티 리드 (Dirty Read)
  - 한 트랜잭션이 아직 커밋되지 않은 데이터를 다른 트랜잭션이 읽는 현상이다.
- 반복 불가능한 읽기 (Non-Repeatable Read)
  - 한 트랜잭션이 동일한 데이터를 여러 번 조회할 때, 조회 결과가 달라지는 현상이다.
- 팬텀 리드 (Phantom Read)
  - 한 트랜잭션이 특정 조건의 데이터를 조회할 때, 다른 트랜잭션에 의해 데이터가 추가되거나 삭제되어 조회 결과가 달라지는 현상이다.

## 4. 성능과 데이터 정합성의 균형

- 트랜잭션 격리 수준을 높일수록 데이터의 정합성은 보장되지만, 성능 저하가 발생할 수 있다. 
- 따라서 애플리케이션의 요구사항에 따라 적절한 격리 수준을 선택하는 것이 중요하다.

---

## 5. 요약

| 격리 수준          | 더티 리드 | 반복 불가능한 읽기 | 팬텀 리드 | 특징                           |
|--------------------|-----------|--------------------|-----------|--------------------------------|
| READ UNCOMMITTED   | 가능      | 가능               | 가능      | 가장 낮은 격리 수준, 성능 우수 |
| READ COMMITTED     | 불가능    | 가능               | 가능      | 대부분의 DBMS 기본값           |
| REPEATABLE READ    | 불가능    | 불가능             | 가능      | 데이터 일관성 보장             |
| SERIALIZABLE       | 불가능    | 불가능             | 불가능    | 가장 높은 격리 수준            |

---

### 참고자료

[트랜잭션의 격리수준에서 발생할 수 있는 문제](https://haon.blog/database/transaction-isolation-level/)